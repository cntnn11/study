<head>
<meta charset="utf-8" />
<style type="text/css">
.checkform > p > label
{
	width: 200px;
	text-align: right;
	display: inline-block;
}
.form-check-wait
{
	border: 1px solid orange;
}
.form-check-succ
{
	border: 1px solid green;
}
.form-check-error
{
	border: 1px solid red;
}
</style>
<script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
<script type="text/javascript" src="./checkform.js"></script>
</head>
<body>

<div class="checkform" id="checkform">
	<p>
		<label>用户名（验证唯一）：</label>
		<input type="text" class="input ck" name="username" />
		<small class="checkError"></small>
	</p>
	<p>
		<label>邮箱（验证唯一）：</label>
		<input type="text" class="input ck" name="email" />
		<small class="checkError"></small>
	</p>
	<p>
		<label>密码（验证重复）：</label>
		<input type="password" class="input ck" name="pwd" id="pwd" />
		<small class="checkError"></small>
	</p>
	<p>
		<label>重复密码：</label>
		<input type="password" class="input ck" name="repwd" />
		<small class="checkError"></small>
	</p>
	<p>
		<label>限制长度：</label>
		<input type="text" class="input" name="code" />
		<small class="checkError"></small>
	</p>

	<p>
		<a href="javascript:void(0);" id="sub">点我验证</a>
	</p>
</div>


<script type="text/javascript">
	var username		= $('input[name=username]');
	var username_verify	= {tit:'用户名', input:'text', methods:{ empty:true, ajaxUnique: {url:'./checkusername.php', data_name:'username'} } };
		username.on('blur', function(){
			chkForm.checkFormData( username, username_verify );
		});

	var email			= $('input[name=email]');
	var email_verify	= {tit:'邮箱', input:'text', methods:{ empty:true, email:true, ajaxUnique: {url:'./checkemail.php', data_name:'email'} } };
		email.on('blur', function(){
			chkForm.checkFormData(email, email_verify);
		});
	var pwd			= $('input[name=pwd]');
	var pwd_verify	= {tit:'密码', input:'text', methods:{ empty:true, len:[1, 16] } };
		pwd.on('blur', function(){
			chkForm.checkFormData( pwd, pwd_verify );
		});
	var repwd			= $('input[name=repwd]');
	var repwd_verify	= {tit:'确认密码', input:'text', methods:{ empty:true, len:[1, 16], repeat:{re_id:'pwd', input:'text', name_zh:'密码'} } };
		repwd.on('blur', function(){
			chkForm.checkFormData( repwd, repwd_verify );
		});

	$('#sub').click(function(){
		if( chkForm.subCheck( 'checkform' ) )
		{
			alert('验证通过！');
		}
	});

</script>

 
</body>