<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<title>ECharts</title>
</head>

<body>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<div id="main" style="height:400px"></div>
<div id="piechart" style="height: 400px"></div>

</div>
</body>
<script src="./echarts-2.2.5/build/dist/echarts.js"></script>
<script type="text/javascript">
	// 路径配置
	require.config({
		paths: {
			echarts: './echarts-2.2.5/build/dist'
		}
	});

	require(
		[
			'echarts',
			'echarts/chart/line',
			'echarts/chart/bar'
		],
		function (ec)
		{
			var lineChart	= ec.init(document.getElementById('main'));
			var lineOption	= {
				title: { text: '这是折线图和柱状图', subtext: 'why副标题？' },
				tooltip: { show:true, trigger: 'axis' },
				legend: { data:['数量','数量2'] },
				toolbox: {
					show: true,
					feature : {
						mark : {show: true},
						dataView : {show: true, readOnly: false},
						magicType : {show: true, type: ['line', 'bar']},
						restore : {show: true},
						saveAsImage : {show: true}
					}
				},
				calculable: true,
				xAxis: [
					{ type:'category', data:["www","wiki","press","event"] }
				],
				yAxis: [
					{ type:'value' }
				],
				series: [
					{ "name":"数量", "type":"line", "data":[50, 20, 40, 10, 10] },
					{ "name":"数量2", "type":"line", "data":[60, 30, 20, 30, 20] }
				]
			};
			lineChart.setOption(lineOption);
		}
	);
</script>
<script type="text/javascript">
require(
	[
		'echarts',
		'echarts/chart/pie',
		'echarts/chart/funnel'
	],
	function (ec)
	{
		var pieChart	= ec.init(document.getElementById('piechart'));
		pieOption = {
			title : {
				text: '某站点用户访问来源',
				subtext: '纯属虚构',
				x:'center'
			},
			tooltip : {
				trigger: 'item',
				formatter: "{a} <br/>{b} : {c} ({d}%)"
			},
			legend: {
				orient : 'vertical',
				x : 'left',
				data:['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']
			},
			toolbox: {
				show : true,
				feature : {
					mark : {show: true},
					dataView : {show: true, readOnly: false},
					magicType : {
						show: true, 
						type: ['pie', 'funnel'],
						option: {
							funnel: {
								x: '25%',
								width: '50%',
								funnelAlign: 'left',
								max: 1548
							}
						}
					},
					restore : {show: true},
					saveAsImage : {show: true}
				}
			},
			calculable : true,
			series : [
				{
					name:'访问来源',
					type:'pie',
					radius : '55%',
					center: ['50%', '60%'],
					data:[
						{value:335, name:'直接访问'},
						{value:310, name:'邮件营销'},
						{value:234, name:'联盟广告'},
						{value:135, name:'视频广告'},
						{value:1548, name:'搜索引擎'}
					]
				}
			]
		};
		pieChart.setOption(pieOption);
	}
)
</script>
